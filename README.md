# Modula-2 M-Code Interpreter and Virtual Machine
## Overview
This will become an interpreter and virtual machine for Lilith Modula-2 M-Code object files.

Work in progress. Not in a usable state yet.

## Key Features Compared To The Lilith Machine
### Functionality in General
* Uses the original M-Code instruction set as implemented in the Lilith.
* Binary compatible with the Lilith's object code format and thus can execute code generated by Wirth's single pass and multipass compilers.
* Built-in runtime monitor and debugger.
### Specific Changes And Improvements
* Loads object files from underlying host filesystem (e.g. UNIX) and therefore does not rely on Medos-2 filesystem and disk structure.
* Uses a built-in dynamic loader for staging of object files instead of the Medos-2 operating system's loader.
* On the Lilith, all modules share the same 65K (16-bit) address space. ```m2emul``` provides much more memory to programs while still maintaining the original 16-bit instruction set by assigning each module its own code space (max. 65K per module) and its own data space (an additional max. 65K).
* The stack and the heap also are assigned their own memory spaces, again 65K for each.
### Planned Features
* Framebuffer compatible with original code for graphical output (currently, the emulator only runs in terminal-based text mode).
* Support for disk image files in Medos-2 format (such as those provided for Jos Dreesen's *Emulith* emulator).